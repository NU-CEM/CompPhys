<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       processEscapes: true
     }
   });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Analysing data - quick test</h1><p class="post-meta post-meta-title">
    </p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="encapsulation">Encapsulation</h2>

<p>Fill in the blanks to create a function that takes a single filename, containing comma separated values, as an argument,
loads the data in the file named by the argument,
and returns the minimum value in that data.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>

<span class="k">def</span> <span class="nf">min_in_data</span><span class="p">(</span><span class="n">____</span><span class="p">):</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">____</span>
 <span class="k">return</span> <span class="n">____</span>
</code></pre></div></div>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>

<span class="k">def</span> <span class="nf">min_in_data</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
  <span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">data</span><span class="p">.</span><span class="nb">min</span><span class="p">()</span>
</code></pre></div>  </div>

</details>

<h2 id="stacking-arrays">Stacking Arrays</h2>

<p>Arrays can be concatenated and stacked on top of one another,
using NumPy’s <code class="language-plaintext highlighter-rouge">vstack</code> and <code class="language-plaintext highlighter-rouge">hstack</code> functions for vertical and horizontal stacking, respectively.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="k">print</span><span class="p">(</span><span class="s">'A = '</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">'B = '</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">'C = '</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div>

<pre><code class="language-output">A =
[[1 2 3]
[4 5 6]
[7 8 9]]
B =
[[1 2 3 1 2 3]
[4 5 6 4 5 6]
[7 8 9 7 8 9]]
C =
[[1 2 3]
[4 5 6]
[7 8 9]
[1 2 3]
[4 5 6]
[7 8 9]]
</code></pre>

<p>Write some additional code that slices the first and last columns of <code class="language-plaintext highlighter-rouge">A</code>,
and stacks them into a 3x2 array.
Make sure to <code class="language-plaintext highlighter-rouge">print</code> the results to verify your solution.</p>

<details>
  <summary>Show answer</summary>

  <p>A ‘gotcha’ with array indexing is that singleton dimensions
are dropped by default. That means <code class="language-plaintext highlighter-rouge">A[:, 0]</code> is a one dimensional
array, which won’t stack as desired. To preserve singleton dimensions,
the index itself can be a slice or array. For example, <code class="language-plaintext highlighter-rouge">A[:, :1]</code> returns
a two dimensional array with one singleton dimension (i.e. a column
vector).</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">D</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">A</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">1</span><span class="p">],</span> <span class="n">A</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:]))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'D = '</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
</code></pre></div>  </div>

  <pre><code class="language-output">D =
[[1 3]
[4 6]
[7 9]]
</code></pre>

  <p>An alternative way to achieve the same result is to use Numpy’s
delete function to remove the second column of A.</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">D</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'D = '</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
</code></pre></div>  </div>

  <pre><code class="language-output">D =
[[1 3]
[4 6]
[7 9]]
</code></pre>

</details>

<hr />

<p>See <a href="https://nu-cem.github.io/CompPhys/2021/08/02/Analysing-Data.html">the notebook</a>.</p>

<p>Back to <a href="https://nu-cem.github.io/CompPhys/2021/08/02/Data_analysis.html">Data analysis and visualisation</a>.</p>

<hr />

  </div><a class="u-url" href="/CompPhys/2021/08/02/Analysing-Data-Qs.html" hidden></a>
</article>

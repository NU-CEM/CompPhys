<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       processEscapes: true
     }
   });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Cleaning data - quick test</h1><p class="post-meta post-meta-title">
    </p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="plot-scaling-i">Plot Scaling I</h2>

<p>Why do all of our plots stop just short of the upper end of our graph?</p>

<details>
  <summary>Show answer</summary>

  <p class="solution">Because matplotlib normally sets x and y axes limits to the min and max of our data
(depending on data range)</p>

  <p>If we want to change this, we can use the <code class="language-plaintext highlighter-rouge">set_ylim(min, max)</code> method of each ‘axes’,
for example:</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">axes3</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div>  </div>

</details>

<h2 id="plot-scaling-ii">Plot Scaling II</h2>

<p>Update your plotting code to automatically set a more appropriate scale.
(Hint: you can make use of the <code class="language-plaintext highlighter-rouge">max</code> and <code class="language-plaintext highlighter-rouge">min</code> methods to help.)</p>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># One method
</span><span class="n">axes3</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'min'</span><span class="p">)</span>
<span class="n">axes3</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">numpy</span><span class="p">.</span><span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">axes3</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div>  </div>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># A more automated approach
</span><span class="n">min_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">axes3</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'min'</span><span class="p">)</span>
<span class="n">axes3</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">min_data</span><span class="p">)</span>
<span class="n">axes3</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">numpy</span><span class="p">.</span><span class="nb">min</span><span class="p">(</span><span class="n">min_data</span><span class="p">),</span> <span class="n">numpy</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="n">min_data</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">)</span>
</code></pre></div>  </div>

</details>

<h2 id="make-your-own-plot">Make Your Own Plot</h2>

<p>Create a plot showing the standard deviation (<code class="language-plaintext highlighter-rouge">numpy.std</code>)
of the absorption data for each day across all patients.</p>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">std_plot</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="p">.</span><span class="n">pyplot</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">numpy</span><span class="p">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">matplotlib</span><span class="p">.</span><span class="n">pyplot</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>  </div>

</details>

<h2 id="moving-plots-around">Moving Plots Around</h2>

<p>Modify the program to display the three plots on top of one another
instead of side by side.</p>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="p">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s">'UVVis-01-cleaned.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">)</span>

<span class="c1"># change figsize (swap width and height)
</span><span class="n">fig</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="p">.</span><span class="n">pyplot</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">))</span>

<span class="c1"># change add_subplot (swap first two parameters)
</span><span class="n">axes1</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">axes2</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">axes3</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="n">axes1</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'average'</span><span class="p">)</span>
<span class="n">axes1</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">numpy</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

<span class="n">axes2</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'max'</span><span class="p">)</span>
<span class="n">axes2</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">numpy</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

<span class="n">axes3</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'min'</span><span class="p">)</span>
<span class="n">axes3</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">numpy</span><span class="p">.</span><span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

<span class="n">fig</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">matplotlib</span><span class="p">.</span><span class="n">pyplot</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>  </div>

</details>

<hr />

<p>See <a href="https://nu-cem.github.io/CompPhys/2021/08/02/Visualising-Data.html">the notebook</a>.</p>

<p>Back to <a href="https://nu-cem.github.io/CompPhys/2021/08/02/Data_analysis.html">Data analysis and visualisation</a>.</p>

<hr />

  </div><a class="u-url" href="/CompPhys/2021/08/02/Visualising-Data-Qs.html" hidden></a>
</article>

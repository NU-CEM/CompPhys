<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       processEscapes: true
     }
   });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Libraries - quick test</h1><p class="post-meta post-meta-title">
    </p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="exploring-the-math-module">Exploring the Math Module</h2>

<ol>
  <li>What function from the <code class="language-plaintext highlighter-rouge">math</code> module can you use to calculate a square root
 <em>without</em> using <code class="language-plaintext highlighter-rouge">sqrt</code>?</li>
  <li>Since the library contains this function, why does <code class="language-plaintext highlighter-rouge">sqrt</code> exist?</li>
</ol>

<details>
  <summary>Show answer</summary>

  <ol>
    <li>Using <code class="language-plaintext highlighter-rouge">help(math)</code> we see that we’ve got <code class="language-plaintext highlighter-rouge">pow(x,y)</code> in addition to <code class="language-plaintext highlighter-rouge">sqrt(x)</code>,
so we could use <code class="language-plaintext highlighter-rouge">pow(x, 0.5)</code> to find a square root.</li>
    <li>The <code class="language-plaintext highlighter-rouge">sqrt(x)</code> function is arguably more readable than <code class="language-plaintext highlighter-rouge">pow(x, 0.5)</code> when
implementing equations. Readability is a cornerstone of good programming, so it
makes sense to provide a special function for this specific common case.</li>
  </ol>

  <p>Also, the design of Python’s <code class="language-plaintext highlighter-rouge">math</code> library has its origin in the C standard,
which includes both <code class="language-plaintext highlighter-rouge">sqrt(x)</code> and <code class="language-plaintext highlighter-rouge">pow(x,y)</code>, so a little bit of the history
of programming is showing in Python’s function names.</p>

</details>

<h2 id="locating-the-right-module">Locating the Right Module</h2>

<p>You want to select a random character from a string:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bases</span> <span class="o">=</span> <span class="s">'ACTTGCTTGAC'</span>
</code></pre></div></div>

<ol>
  <li>Which <a href="https://docs.python.org/3/library/">standard library</a> module could help you?</li>
  <li>Which function would you select from that module? Are there alternatives?</li>
  <li>Try to write a program that uses the function.</li>
</ol>

<details>
  <summary>Show answer</summary>

  <p>The <a href="randommod">random module</a> seems like it could help you.</p>

  <p>The string has 11 characters, each having a positional index from 0 to 10.
You could use <code class="language-plaintext highlighter-rouge">random.randrange</code> function (or the alias <code class="language-plaintext highlighter-rouge">random.randint</code>
if you find that easier to remember) to get a random integer between 0 and
10, and then pick out the character at that position:</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randrange</span>

<span class="n">random_index</span> <span class="o">=</span> <span class="n">randrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bases</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">bases</span><span class="p">[</span><span class="n">random_index</span><span class="p">])</span>
</code></pre></div>  </div>

  <p>or more compactly:</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randrange</span>

<span class="k">print</span><span class="p">(</span><span class="n">bases</span><span class="p">[</span><span class="n">randrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bases</span><span class="p">))])</span>
</code></pre></div>  </div>

  <p>Perhaps you found the <code class="language-plaintext highlighter-rouge">random.sample</code> function? It allows for slightly
less typing:</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">sample</span>

<span class="k">print</span><span class="p">(</span><span class="n">sample</span><span class="p">(</span><span class="n">bases</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>  </div>

  <p>Note that this function returns a list of values. We will learn about
lists in episode 11.</p>

  <p>There’s also other functions you could use, but with more convoluted
code as a result.</p>

</details>

<h2 id="jigsaw-puzzle-parsons-problem-programming-example">Jigsaw Puzzle (Parson’s Problem) Programming Example</h2>

<p>Rearrange the following statements so that a random
DNA base is printed and its index in the string.  Not all statements may be needed.  Feel free to use/add
intermediate variables.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bases</span><span class="o">=</span><span class="s">"ACTTGCTTGAC"</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">___</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">n_bases</span><span class="p">)</span>
<span class="n">___</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bases</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"random base "</span><span class="p">,</span> <span class="n">bases</span><span class="p">[</span><span class="n">___</span><span class="p">],</span> <span class="s">"base index"</span><span class="p">,</span> <span class="n">___</span><span class="p">)</span>
</code></pre></div></div>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span> 
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">bases</span> <span class="o">=</span> <span class="s">"ACTTGCTTGAC"</span> 
<span class="n">n_bases</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bases</span><span class="p">)</span>
<span class="n">idx</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">n_bases</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"random base"</span><span class="p">,</span> <span class="n">bases</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s">"base index"</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
</code></pre></div>  </div>

</details>

<h2 id="when-is-help-available">When Is Help Available?</h2>

<p>When a colleague of yours types <code class="language-plaintext highlighter-rouge">help(math)</code>,
Python reports an error:</p>

<pre><code class="language-output">NameError: name 'math' is not defined
</code></pre>

<p>What has your colleague forgotten to do?</p>

<details>
  <summary>Show answer</summary>

  <p>Importing the math module (<code class="language-plaintext highlighter-rouge">import math</code>)</p>

</details>

<h2 id="importing-with-aliases">Importing With Aliases</h2>

<ol>
  <li>Fill in the blanks so that the program below prints <code class="language-plaintext highlighter-rouge">90.0</code>.</li>
  <li>Rewrite the program so that it uses <code class="language-plaintext highlighter-rouge">import</code> <em>without</em> <code class="language-plaintext highlighter-rouge">as</code>.</li>
  <li>Which form do you find easier to read?</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="n">m</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">____</span><span class="p">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">____</span><span class="p">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">____</span><span class="p">)</span>
</code></pre></div></div>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="n">m</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</code></pre></div>  </div>

  <p>can bewritten as</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">math</span><span class="p">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</code></pre></div>  </div>

  <p>Since you just wrote the code and are familiar with it, you might actually
find the first version easier to read. But when trying to read a huge piece
of code written by someone else, or when getting back to your own huge piece
of code after several months, non-abbreviated names are often easier, except
where there are clear abbreviation conventions.</p>

</details>

<h2 id="there-are-many-ways-to-import-libraries">There Are Many Ways To Import Libraries!</h2>

<p>Match the following print statements with the appropriate library calls.</p>

<p>Print commands:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">print("sin(pi/2) =",sin(pi/2))</code></li>
  <li><code class="language-plaintext highlighter-rouge">print("sin(pi/2) =",m.sin(m.pi/2))</code></li>
  <li><code class="language-plaintext highlighter-rouge">print("sin(pi/2) =",math.sin(math.pi/2))</code></li>
</ol>

<p>Library calls:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">from math import sin,pi</code></li>
  <li><code class="language-plaintext highlighter-rouge">import math</code></li>
  <li><code class="language-plaintext highlighter-rouge">import math as m</code></li>
  <li><code class="language-plaintext highlighter-rouge">from math import *</code></li>
</ol>

<details>
  <summary>Show answer</summary>

  <ol>
    <li>Library calls 1 and 4. In order to directly refer to <code class="language-plaintext highlighter-rouge">sin</code> and <code class="language-plaintext highlighter-rouge">pi</code> without
the library name as prefix, you need to use the <code class="language-plaintext highlighter-rouge">from ... import ...</code>
statement. Whereas library call 1 specifically imports the two functions
<code class="language-plaintext highlighter-rouge">sin</code> and <code class="language-plaintext highlighter-rouge">pi</code>, library call 4 imports all functions in the <code class="language-plaintext highlighter-rouge">math</code> module.</li>
    <li>Library call 3. Here <code class="language-plaintext highlighter-rouge">sin</code> and <code class="language-plaintext highlighter-rouge">pi</code> are referred to with a shortened library
name <code class="language-plaintext highlighter-rouge">m</code> instead of <code class="language-plaintext highlighter-rouge">math</code>. Library call 3 does exactly that using the
<code class="language-plaintext highlighter-rouge">import ... as ...</code> syntax - it creates an alias for <code class="language-plaintext highlighter-rouge">math</code> in the form of
the shortened name <code class="language-plaintext highlighter-rouge">m</code>.</li>
    <li>Library call 2. Here <code class="language-plaintext highlighter-rouge">sin</code> and <code class="language-plaintext highlighter-rouge">pi</code> are referred to with the regular library
name <code class="language-plaintext highlighter-rouge">math</code>, so the regular <code class="language-plaintext highlighter-rouge">import ...</code> call suffices.</li>
  </ol>

</details>

<h2 id="importing-specific-items">Importing Specific Items</h2>

<ol>
  <li>Fill in the blanks so that the program below prints <code class="language-plaintext highlighter-rouge">90.0</code>.</li>
  <li>Do you find this version easier to read than preceding ones?</li>
  <li>Why <em>wouldn’t</em> programmers always use this form of <code class="language-plaintext highlighter-rouge">import</code>?</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">____</span> <span class="n">math</span> <span class="kn">import</span> <span class="nn">____</span><span class="p">,</span> <span class="n">____</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">degrees</span><span class="p">(</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</code></pre></div></div>

<details>
  <summary>Show answer</summary>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">degrees</span><span class="p">,</span> <span class="n">pi</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">degrees</span><span class="p">(</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</code></pre></div>  </div>

  <p>Most likely you find this version easier to read since it’s less dense.
The main reason not to use this form of import is to avoid name clashes.
For instance, you wouldn’t import <code class="language-plaintext highlighter-rouge">degrees</code> this way if you also wanted to
use the name <code class="language-plaintext highlighter-rouge">degrees</code> for a variable or function of your own. Or if you
were to also import a function named <code class="language-plaintext highlighter-rouge">degrees</code> from another library.</p>

</details>

<h2 id="reading-error-messages">Reading Error Messages</h2>

<ol>
  <li>Read the code below and try to identify what the errors are without running it.</li>
  <li>Run the code, and read the error message. What type of error is it?</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span>
 <span class="n">log</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<details>
  <summary>Show answer</summary>

  <ol>
    <li>The logarithm of <code class="language-plaintext highlighter-rouge">x</code> is only defined for <code class="language-plaintext highlighter-rouge">x  0</code>, so 0 is outside the
  domain of the function.</li>
    <li>You get an error of type “ValueError”, indicating that the function
  received an inappropriate argument value. The additional message
  “math domain error” makes it clearer what the problem is.</li>
  </ol>

</details>

<hr />

<p>See <a href="https://nu-cem.github.io/CompPhys/2021/08/02/Libraries.html">the notebook</a>.</p>

<p>Back to <a href="https://nu-cem.github.io/CompPhys/2021/08/02/Python_basics_two.html">Python part two</a>.</p>

<hr />

  </div><a class="u-url" href="/CompPhys/2021/08/02/Libraries-Qs.html" hidden></a>
</article>
